---
phase: 02-windows-integration
plan: 07
type: execute
wave: 2
depends_on: ["01-core-technology-validation", "02-windows-integration-06"]
files_modified: [FeedbackService.cs, StatusIndicatorWindow.xaml, StatusIndicatorWindow.xaml.cs]
autonomous: true
must_haves:
  truths:
    - "Audio feedback system works with programmatically generated tones"
    - "Visual feedback mechanisms provide clear status indicators"
    - "Status indicator window provides real-time feedback"
    - "Feedback integration works with transcription workflow"
  artifacts:
    - path: "StatusIndicatorWindow.xaml"
      provides: "Visual status indicator interface"
      contains: "StatusIndicator"
      min_lines: 30
    - path: "StatusIndicatorWindow.xaml.cs"
      provides: "Visual status indicator implementation"
      contains: "UpdateStatus"
      min_lines: 60
  key_links:
    - from: "StatusIndicatorWindow.xaml.cs"
      to: "FeedbackService.cs"
      via: "status updates"
      pattern: "UpdateStatus"
    - from: "FeedbackService.cs"
      to: "StatusIndicatorWindow.xaml"
      via: "visual feedback"
      pattern: "Show"
---

<objective>
Add basic audio feedback system and visual status indicators to complete core feedback functionality.

Purpose: Enhance user experience with immediate audio responses and clear visual indicators for all dictation states.
Output: Comprehensive feedback system with programmatically generated tones and real-time visual status window.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-windows-integration/02-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Enhance audio feedback system</name>
  <files>FeedbackService.cs</files>
  <action>
Enhance the audio feedback system with comprehensive tone generation:
1. Implement programmatically generated sine wave tones
2. Add tone sequences for complex feedback (success, error, warning)
3. Implement volume control and user preferences
4. Add audio device selection integration
5. Include mute functionality and override settings
6. Add audio testing and validation
7. Implement fallback to system sounds if custom fails

Audio feedback patterns:
- Start dictation: gentle ascending chime (C4→E4→G4)
- Stop dictation: soft descending chime (G4→E4→C4)
- Transcription success: positive melody (C5→E5→G5→C6)
- Transcription partial: questioning phrase (G4→B4)
- Error: alert pattern (low buzzer × 2)
- Warning: attention chime (single medium tone)

Technical implementation:
- Use NAudio for wave generation
- Support for different audio formats and sample rates
- Async audio playback to avoid UI blocking
- Proper audio resource management
</action>
  <verify>Audio feedback system generates appropriate tones for all dictation states</verify>
  <done>Enhanced audio feedback system with programmatically generated tones is complete</done>
</task>

<task type="auto">
  <name>Create visual status indicator window</name>
  <files>StatusIndicatorWindow.xaml, StatusIndicatorWindow.xaml.cs</files>
  <action>
Create StatusIndicatorWindow for real-time visual feedback:
1. Design minimal, non-intrusive status window
2. Implement status-specific visual indicators
3. Add smooth transitions and animations
4. Include position memory and auto-positioning
5. Add click-through behavior for non-interference
6. Implement opacity control and theme awareness
7. Add status history and timing display

Visual indicators:
- Idle: gray circle with "Ready" tooltip
- Recording: red pulsing circle with microphone icon
- Processing: blue spinning indicator with "Processing" text
- Complete: green checkmark with fade animation
- Error: red warning icon with shake animation

Window features:
- Semi-transparent overlay that doesn't interfere with other apps
- Auto-position away from cursor and active windows
- Remember last position and restore on next use
- Support for light/dark themes
- Minimize to system tray option
</action>
  <verify>StatusIndicatorWindow provides clear visual feedback for all dictation states</verify>
  <done>Visual status indicator window enhances user experience with real-time feedback</done>
</task>

</tasks>

<verification>
1. Audio feedback generates programmatically generated tones
2. Tone sequences are appropriate for each dictation state
3. Volume control and mute functionality work correctly
4. StatusIndicatorWindow displays appropriate visual indicators
5. Animations and transitions are smooth and non-intrusive
6. Window positioning avoids interference with active applications
7. Theme awareness works correctly on light/dark modes
8. Integration with FeedbackService is seamless
9. Resource management follows best practices
</verification>

<success_criteria>
- Audio feedback system provides clear, programmatically generated tones
- Visual status indicators give immediate feedback about dictation state
- StatusIndicatorWindow is non-intrusive and professional
- Integration with transcription workflow is transparent
- User preferences are respected (volume, mute, positioning)
- Performance impact is minimal during feedback operations
- Foundation is ready for enhanced feedback customization
</success_criteria>

<output>
After completion, create `.planning/phases/02-windows-integration/02-07-SUMMARY.md`
</output>