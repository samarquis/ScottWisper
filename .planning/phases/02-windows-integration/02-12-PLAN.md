---
phase: 02-windows-integration
plan: 11
type: execute
wave: 3
depends_on: ["01-core-technology-validation", "02-windows-integration-05", "02-windows-integration-06"]
files_modified: [AudioVisualizer.xaml, AudioVisualizer.xaml.cs, FeedbackService.cs]
autonomous: true
must_haves:
  truths:
    - "Real-time audio visualization provides recording feedback"
    - "AudioVisualizer displays smooth waveform during recording"
    - "Visual feedback is non-intrusive and professional"
    - "Performance impact is minimal during continuous operation"
  artifacts:
    - path: "AudioVisualizer.xaml"
      provides: "Real-time audio waveform visualization"
      contains: "Polyline"
    - path: "AudioVisualizer.xaml.cs"
      provides: "Audio visualization logic and animation"
      contains: "AudioVisualizer"
      min_lines: 60
    - path: "FeedbackService.cs"
      provides: "Enhanced feedback coordination"
      contains: "visualization"
  key_links:
    - from: "AudioVisualizer.xaml.cs"
      to: "FeedbackService.cs"
      via: "feedback coordination"
      pattern: "FeedbackService"
    - from: "AudioVisualizer.xaml.cs"
      to: "AudioCaptureService.cs"
      via: "audio level monitoring"
      pattern: "AudioCaptureService"
---

<objective>
Implement real-time audio visualization with professional waveform display and smooth animations.

Purpose: Provide professional visual feedback during audio recording with real-time waveform visualization and voice activity indicators.
Output: Smooth, real-time audio visualization that enhances user experience during dictation.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-windows-integration/02-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Implement real-time audio visualization</name>
  <files>AudioVisualizer.xaml, AudioVisualizer.xaml.cs</files>
  <action>
Create real-time audio waveform visualization:
1. Design AudioVisualizer.xaml with waveform display
2. Implement audio level monitoring from AudioCaptureService
3. Create smooth waveform animation using WPF animations
4. Add visual feedback for voice activity detection
5. Implement peak level indicators with color coding
6. Add configurable visualization styles (waveform, bars, minimal)
7. Ensure performance optimization for smooth animation

Visualization features:
- Real-time waveform display during recording
- Voice activity level indicators
- Peak level meters with color coding
- Smooth animations and transitions
- Configurable visualization modes
- High DPI support for crisp rendering
- Minimal performance impact on audio capture
</action>
  <verify>AudioVisualizer displays real-time audio waveform smoothly</verify>
  <done>Professional audio visualization provides clear recording feedback</done>
</task>

</tasks>

<verification>
1. AudioVisualizer.xaml displays waveform components correctly
2. Audio level monitoring connects to AudioCaptureService
3. Waveform animation is smooth and responsive
4. Voice activity detection provides visual feedback
5. Peak level indicators show color-coded audio levels
6. Performance optimization maintains smooth animation
7. High DPI support ensures crisp rendering
8. Configurable visualization modes work correctly
9. Minimal impact on audio capture performance
</verification>

<success_criteria>
- Real-time audio visualization provides clear recording feedback
- Smooth waveform display enhances user experience
- Voice activity detection gives immediate visual feedback
- Performance impact is minimal during continuous operation
- Professional visual design matches application aesthetics
- Visualization modes accommodate different user preferences
- High DPI support ensures quality on all displays
- Integration with existing feedback system is seamless
</success_criteria>

<output>
After completion, create `.planning/phases/02-windows-integration/02-11-SUMMARY.md`
</output>