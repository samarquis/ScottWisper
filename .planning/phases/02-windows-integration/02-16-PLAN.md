---
phase: 02-windows-integration
plan: 15
type: execute
wave: 3
depends_on: ["01-core-technology-validation", "02-windows-integration-09", "02-windows-integration-10", "02-windows-integration-13"]
files_modified: [SettingsService.cs, SettingsWindow.xaml.cs, HotkeyService.cs]
autonomous: true
must_haves:
  truths:
    - "Hotkey configuration allows flexible assignment with conflict detection"
    - "System-wide conflict detection prevents hotkey conflicts"
    - "Multiple hotkey profiles support different workflows"
    - "Hotkey import/export functionality enables backup"
  artifacts:
    - path: "HotkeyService.cs"
      provides: "Enhanced hotkey configuration"
      contains: "configurable hotkeys"
      min_lines: 60
    - path: "SettingsWindow.xaml.cs"
      provides: "Hotkey configuration UI"
      contains: "hotkey recording"
  key_links:
    - from: "SettingsWindow.xaml.cs"
      to: "HotkeyService.cs"
      via: "hotkey management"
      pattern: "HotkeyService"
    - from: "SettingsWindow.xaml.cs"
      to: "SettingsService.cs"
      via: "hotkey persistence"
      pattern: "SettingsService"
---

<objective>
Implement flexible hotkey configuration system with conflict detection, multiple profiles, and professional user interface.

Purpose: Create comprehensive hotkey management with visual recording, system-wide conflict detection, and advanced configuration options for professional workflows.
Output: Professional hotkey management system with conflict detection, multiple profiles, and import/export capabilities.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-windows-integration/02-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Implement hotkey configuration and management</name>
  <files>SettingsService.cs, SettingsWindow.xaml.cs, HotkeyService.cs</files>
  <action>
Create flexible hotkey configuration system:
1. Extend HotkeyService for configurable hotkeys
2. Implement hotkey recording interface in settings
3. Add conflict detection with system-wide hotkeys
4. Create hotkey validation and error handling
5. Add multiple hotkey profiles support
6. Implement hotkey import/export functionality
7. Add accessibility hotkey options

Hotkey features:
- Visual hotkey recording (press keys to set)
- System-wide conflict detection
- Modifier key flexibility (Ctrl, Alt, Shift, Win)
- Multiple hotkey profiles for different workflows
- Hotkey disable/enable options
- Emergency override hotkeys
- Keyboard layout awareness

Configuration options:
- Toggle recording (default: Ctrl+Alt+V)
- Show settings (default: Ctrl+Alt+S)
- Enable/disable dictation
- Emergency stop
- Custom action hotkeys
- Application-specific hotkeys

Import/export features:
- Backup hotkey configurations
- Share hotkey profiles between devices
- Import from previous application versions
- Export to standard file formats
- Merge hotkey configurations
</action>
  <verify>Hotkey configuration allows flexible, conflict-free assignment</verify>
  <done>Professional hotkey management with comprehensive options</done>
</task>

</tasks>

<verification>
1. HotkeyService supports configurable hotkey combinations
2. Visual hotkey recording interface works correctly
3. System-wide conflict detection prevents hotkey issues
4. Multiple hotkey profiles can be created and managed
5. Import/export functionality works for backup and sharing
6. Accessibility hotkey options are properly implemented
7. Emergency override hotkeys work in all scenarios
8. Keyboard layout awareness ensures compatibility
9. Hotkey validation catches invalid combinations
10. Error handling provides helpful user feedback
11. SettingsService properly persists hotkey configurations
12. UI provides intuitive hotkey management experience
</verification>

<success_criteria>
- Flexible hotkey configuration supports professional workflows
- System-wide conflict detection prevents hotkey issues
- Multiple profiles support different use cases and scenarios
- Visual hotkey recording provides intuitive user experience
- Import/export functionality enables configuration backup and sharing
- Emergency hotkeys ensure application control in all situations
- Accessibility options support inclusive design
- Integration with SettingsService ensures reliable persistence
- Professional UI design enhances user experience
- Comprehensive validation prevents configuration errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-windows-integration/02-15-SUMMARY.md`
</output>